Title: Open-Source Automated Insulin Delivery in Type 1 Diabetes


Abstract: Abstract


Abstract_Section: Background

Open-source automated insulin delivery (AID) systems are used by many patients with type 1 diabetes. Data are needed on the efficacy and safety of an open-source AID system.

Abstract_Section: Methods

In this multicenter, open-label, randomized, controlled trial, we assigned patients with type 1 diabetes in a 1:1 ratio to use an open-source AID system or a sensor-augmented insulin pump (control). The patients included both children (defined as 7 to 15 years of age) and adults (defined as 16 to 70 years of age). The AID system was a modified version of AndroidAPS 2.8 (with a standard OpenAPS 0.7.0 algorithm) paired with a preproduction DANA-i insulin pump and Dexcom G6 CGM, which has an Android smartphone application as the user interface. The primary outcome was the percentage of time in the target glucose range of 70 to 180 mg per deciliter (3.9 to 10.0 mmol per liter) between days 155 and 168 (the final 2 weeks of the trial).

Abstract_Section: Results

A total of 97 patients (48 children and 49 adults) underwent randomization (44 to open-source AID and 53 to the control group). At 24 weeks, the mean (±SD) time in the target range increased from 61.2±12.3% to 71.2±12.1% in the AID group and decreased from 57.7±14.3% to 54.5±16.0% in the control group (adjusted difference, 14 percentage points; 95% confidence interval, 9.2 to 18.8; P<0.001), with no treatment effect according to age (P=0.56). Patients in the AID group spent 3 hours 21 minutes more in the target range per day than those in the control group. No severe hypoglycemia or diabetic ketoacidosis occurred in either group. Two patients in the AID group withdrew from the trial owing to connectivity issues.

Abstract_Section: Conclusions

In children and adults with type 1 diabetes, the use of an open-source AID system resulted in a significantly higher percentage of time in the target glucose range than the use of a sensor-augmented insulin pump at 24 weeks. (Supported by the Health Research Council of New Zealand; Australian New Zealand Clinical Trials Registry number, ACTRN12620000034932 .)

Section: Introduction

The use of automated insulin delivery (AID) systems that encompass an insulin-delivery algorithm, insulin pump, and continuous glucose monitoring has been shown to improve glycemic control and reduce the care burden for patients with type 1 diabetes. A do-it-yourself AID system, called OpenAPS, was developed by patients with diabetes and was shared freely as an open-source system in February 2015. Since that time, multiple open-source AID systems have evolved, and despite a lack of regulatory approval, such systems have been adopted by approximately 2500 patients with diabetes globally. Data now include the results of more than 55 million hours of real-world open-source AID experience.
Two widely used open-source AID systems are AndroidAPS (OpenAPS algorithm on an Android device) and Loop (a different algorithm on an iOS device). In a single-group study, investigators found that patients who used the Loop system had a higher percentage of time in range for target glucose control (70 to 180 mg per deciliter [3.9 to 10.0 mmol per liter]), with an increase in control from 67% at baseline to 73% at 6 months. However, this study was limited by a lack of comparative effectiveness and the enrollment of patients who had a high percentage of time in the target range at baseline.
The uptake of open-source AID systems has a number of barriers beyond a lack of regulatory approval, including a lack of trial data regarding safety and efficacy, limited expertise with the system among health care professionals, and a perception that the use of AID systems is technically challenging. In the randomized, controlled trial called CREATE (Community Derived Automated Insulin Delivery), we evaluated the efficacy and safety of an open-source AID system as compared with sensor-augmented insulin-pump therapy in children and adults with type 1 diabetes.

Section: Methods

The trial was conducted at four sites in New Zealand in compliance with Good Clinical Practice guidelines and was approved by the Southern Health and Disability Ethics Committee of New Zealand. The trial was funded by the Health Research Council of New Zealand. Hardware support was provided by SOOIL Development, Dexcom, and Vodafone New Zealand. The trial protocol (available with the full text of this article at NEJM.org) has been published previously. An independent data and safety monitoring committee and medical monitor provided trial oversight. Written informed consent was provided by all adult patients (16 to 70 years of age) or by the parents or guardians of children (7 to 15 years); assent was also sought from all the children.
The trial was designed by representatives of the sponsor, the University of Otago. Data were collected by the investigators and site personnel, analyzed by a statistician employed by the sponsor, and interpreted by the authors. Experts on open-source AID systems within the trial team provided training to clinical staff members. A Slack workspace (Slack Technologies) facilitated ongoing learning by allowing clinical staff members to communicate with each other and with experts in open-source AID on the trial team.
The authors were responsible for writing the first draft of the manuscript or for contributing to the review and editing of the manuscript. All the authors made the decision to submit the manuscript for publication and vouch for the completeness and accuracy of the data and for the fidelity of the trial to the protocol.
Eligible patients were between the ages of 7 and 70 years, had received a diagnosis of type 1 diabetes at least 1 year earlier, had at least 6 months of experience with insulin-pump therapy, and had a mean glycated hemoglobin level of less than 10.5% (91 mmol per mole). Details regarding the inclusion and exclusion criteria are provided in Table S1 in the Supplementary Appendix , available at NEJM.org. The ages of the patients reflected the age range in general clinical practice in New Zealand.
Patients in the two trial groups (or their parents or guardians) were invited to join separate closed online communities (Tribe Technologies) that provided ongoing peer support to simulate community support for the use of open-source AID systems. In addition, patients were instructed to contact trial staff members to discuss any clinical or technical issues.
During a 4-week run-in phase, patients became familiar with the trial devices functioning as sensor-augmented insulin-pump therapy. Patients were then randomly assigned in a 1:1 ratio to the AID group or the control group with the use of blocks of four, six, and eight stratified according to age, trial site, and baseline glycated hemoglobin level (≤8.0% or >8.0%). A 24-week trial followed, with the primary end point measured between days 155 and 168 (the last 2 weeks of the trial) (Fig. S1). All the patients attended three in-person visits (at weeks 0, 12, and 24); those in the AID group also had two additional reviews by telephone at weeks 3 and 6. During visits and telephone reviews, patients were asked about adverse events and device issues, medication use, and Dexcom alarm settings. In addition, staff members reviewed data using a unique URL provided by Nightscout (an open-source project that enables access to data regarding continuous glucose monitoring) and advised patients on changes in device settings. All the patients (or their parents or guardians) could alter settings between contacts, but staff members were instructed to avoid surveillance outside of scheduled reviews and did not receive automated alerts. This approach was designed to negate an effect on outcomes caused by additional scheduled contact with the trial team in the AID group.
The system was a modified version of AndroidAPS 2.8 (which uses the standard OpenAPS 0.7.0 algorithm ) paired with a preproduction DANA-i insulin pump and Dexcom G6 CGM. The user interface was an Android smartphone application (AnyDANA-Loop). Modifications reduced the number of objectives and time required to enable closed-loop therapy. Patients used the AnyDANA-Loop application for mealtime insulin administration and AnyDANA-Loop automated insulin delivery in response to the glucose target. Any changes to user-specific settings were made with the patients’ involvement, according to the technical manual (Table S2). Written guidelines and “how to” video demonstrations of key aspects of the applications were provided to all the patients in the AID group.
Patients in the control group used the Dexcom G6 CGM with high and low glucose alerts and their usual insulin pump or a preproduction DANA-i insulin pump to administer bolus insulin doses. The sensor-augmented insulin-pump therapy was not designed to predict low-glucose levels or to suspend insulin administration. A smartphone application, called Monitor, transmitted data regarding continuous glucose monitoring to Nightscout.
The primary outcome was percentage of time in the target glucose range of 70 to 180 mg per deciliter (3.9 to 10.0 mmol per liter) between day 155 and day 168. Secondary outcomes were metrics for continuous glucose monitoring between days 155 and 168, which were categorized as occurring during a 24-hour period, during daytime hours (6 a.m. to midnight), or during nighttime hours (midnight to 6 a.m.); the glycated hemoglobin level, as measured by calibrated point-of-care instruments (DCA Vantage Analyzer, Siemens Healthcare Diagnostics); and the performance of the AID system (the time that the system was automating insulin delivery and the incidence of device deficiencies). Separate analyses were prespecified to evaluate the psychosocial effect of device use, the collective learning of patients and staff members, and eating behaviors (Table S3).
Adverse events that were evaluated included adverse device effects, serious adverse events, and serious adverse device effects. Severe hypoglycemia or hyperglycemia and diabetic ketoacidosis were reported as serious adverse events or serious adverse device effects.
At approximately 3 months into the trial (after the enrollment of approximately two thirds of the patients), a battery problem in a preproduction DANA-i insulin pump was identified. A device deficiency was recorded when the pump battery lasted less than 2 weeks, and a device deficiency with potential serious adverse device effects was reported when the pump turned off without warning. Patients in the control group had the option of returning to their usual insulin pump (which 52 of 53 patients did), and those in the AID group used refurbished preproduction DANA-i insulin pumps.
We calculated that 68 patients (34 per group) would provide 90% power with a two-sided alpha level of 0.05 to reject the null hypothesis of no between-group difference in the time in range, assuming a population standard deviation of 12.5% and an absolute treatment effect of 10%. The sample size was increased to 50 adults and 50 children to allow for a differential treatment effect according to age, improved safety assessment, and potential loss to follow-up.
Data capture and management processes have been described previously. Data cleaning and analyses were performed with the use of R software, version 4.1.1. Data regarding continuous glucose monitoring were extracted from Nightscout and glucose metrics calculated for sequential 14-day periods, starting 14 days before the trial period began and finishing at day 168. Data were aggregated according to trial group and time of day.
The primary outcome was fitted to a linear regression model with independent variables including stratification variables, dependent variables measured at baseline, trial group, and age according to group interaction. We compared this model sequentially with simpler models (in which the trial group or the interaction according to age was excluded) using analysis of variance to calculate two-sided P values for an overall treatment effect and differential treatment effect according to age. Between-group differences were estimated with 95% confidence intervals. Secondary outcomes regarding continuous glucose monitoring and glycated hemoglobin were handled similarly without hypothesis testing. The widths of the confidence intervals were not adjusted for multiplicity and may not be used in place of hypothesis testing. Linear mixed-effects regression models that incorporated all available data were used to confirm the robustness of the results (Table S4).

Section: Results

A total of 100 patients were enrolled from September 2020 through May 2021. Three patients withdrew during the run-in period, and 97 patients (48 children and 49 adults) underwent randomization to either the AID group (44 patients) or the control group (53 patients). Unbalanced group size was exacerbated by the number of strata (16) that were used during randomization.
The characteristics of the patients at baseline were similar in the two trial groups ( Table 1 and S5). Children were more likely than adults to have used continuous glucose monitoring; previous use of AID systems was uncommon. Table S6 shows the representativeness of the patients among the population of those with type 1 diabetes.
The final patient completed the trial in November 2021. Two patients in the AID group (1 child and 1 adult) withdrew from the trial because of frustration with the trial devices; all 53 patients in the control group completed the trial (Fig. S2). During days 155 to 168, the median percentage of expected readings that were recorded by continuous glucose monitoring was 97% (interquartile range [IQR], 95 to 99) in the AID group and 95% (IQR, 89 to 98) in the control group. Eight patients (2 in the AID group and 6 in the control group) provided less than 70% of expected glucose readings.
In the primary analysis, the mean (±SD) time in the target range increased from 61.2±12.3% at baseline to 71.2±12.1% in the AID group and decreased from 57.7±14.3% to 54.5±16.0% in the control group (mean adjusted difference, 14.0 percentage points; 95% confidence interval [CI], 9.2 to 18.8; P<0.001); the between-group difference per day was 3 hours 21 minutes. The percentage of patients who had a time in range of more than 70% and a time below range (<70 mg per deciliter) of less than 4% was 52.0% in the AID group and 11.0% in the control group (adjusted difference, 36.9 percentage points; 95% CI, 25.9 to 48.5). No treatment effect according to interaction by age was detected (P=0.56). Primary and secondary efficacy glycemic outcomes are provided separately for children and adults ( Table 2 and S7). Additional subgroup analyses of the percentage of time in the target range are provided in Table S8.
Among the children, the mean time in range increased from 57.4±10.6% at baseline to 67.5±11.5% in the AID group and decreased from 55.1±12.6% to 52.5±17.5% in the control group (mean adjusted difference, 12.6 percentage points; 95% CI, 5.7 to 19.5); the between-group difference per day was 3 hours 1 minute. The percentage of patients who had a time in range of more than 70% and a time below range of less than 4% was 40% in the AID group and 7% in the control group (adjusted difference, 32.2 percentage points; 95% CI, 16.2 to 49.7). The intervention effect was apparent within 2 weeks after the initiation of AID and was maintained during the 24-week trial period ( Figure 1 ).
During a 24-hour period, the percentage of time that patients had a glucose reading of less than 70 mg per deciliter was 2.1% (30 minutes) in the AID group and 2.7% (39 minutes) in the control group. The percentage of time that patients had a glucose reading of more than 180 mg per deciliter was 39.1% (9 hours 24 minutes) in the AID group and 44.8% (10 hours 48 minutes) in the control group.
The use of AID was most effective at night ( Figure 2 and S3), when the mean time in range was 76.8±15.8%, as compared with 64.3±11.7% during the day. In the control group, the mean time in range was 57.2±21.4% at night and 50.9±17.4% during the day. Overnight, the percentage of time that patients had a time in range of less than 70 mg per deciliter was 1.2% in the AID group and 3.1% in the control group. At the end of the trial, the mean glycated hemoglobin level was 7.0% (52.6 mmol per mole) in the AID group and 7.6% (59.2 mmol per mole) in the control group.
Among the adults, the mean time in range increased from 64.7±12.9% at baseline to 74.5±11.9% in the AID group and decreased from 60.3±15.6% to 56.5±14.2% in the control group (mean adjusted difference, 15.4 percentage points; 95% CI, 8.6 to 22.1); the between-group difference per day was 3 hours 41 minutes. The mean percentage of patients who had a time in range of more than 70% and a time below range of less than 4% was 64% in the AID group and 15% in the control group (adjusted difference, 41.6 percentage points; 95% CI, 27.0 to 57.5).
During a 24-hour period, the mean percentage of time that the glucose value was less than 70 mg per deciliter was 1.6% (23 minutes) in the AID group and 1.8% (26 minutes) in the control group. The percentage of time that the glucose value was more than 180 mg per deciliter was 23.9% (5 hours 42 minutes) in the AID group and 41.6% (10.0 hours) in the control group. As with the children, the use of AID was most effective in the adults at night, when the time in range was 85.2±12.7%, as compared with 70.9±12.7% during the day. In the control group, the mean time in range at night (53.5±20.1%) was similar to that during the day (57.5±14.4%) ( Figure 2 and S3). Overnight, the percentage of time that the glucose level was less than 70 mg per deciliter was 2.2% in the AID group and 1.9% in the control group. In both adults and children, the increases in the percentage of time in range was attributed mainly to overnight improvement with the AID system (Fig. S4). At the end of the trial, the mean glycated hemoglobin level was 6.8% (50.7 mmol per mole) in the AID group and 7.5% (58.5 mmol per mole) in the control group.
Neither severe hypoglycemia nor diabetic ketoacidosis occurred in either trial group, and no adverse events were related to the algorithm or automation of insulin delivery. Prespecified adverse events are provided in Table 3 .
Ten adverse events that were related to a device (nonserious adverse device effects) were reported among 8 patients in the AID group, and 8 events were reported among 8 patients in the control group. These events included 6 hyperglycemia events in the AID group and 5 in the control group and were mainly due to infusion-set failures. One adult in the AID group had superficial skin burns on separate occasions from two different preproduction DANA-i insulin pumps.
Two serious adverse events occurred in the AID group (hospitalizations for hyperglycemia in one child due to infusion-set failure and the other unrelated to diabetes), and 5 serious adverse events (all in children) occurred in the control group: 1 hyperglycemia event owing to insulin-pump failure and 4 events unrelated to diabetes. The rate of severe hyperglycemia and ketosis (capillary glucose level, >300 mg per deciliter; ketones, >1.5 mmol per liter and symptomatic) per 100 user-days was 0.10 in the AID group and 0.07 in the control group.
In the AID group, the median percentage of time that the system was automating insulin delivery was 94.2% (IQR, 87.3 to 95.7) (Table S9). Device deficiencies are shown in Table S10. Fewer device deficiencies were reported during the randomized trial than during the run-in period (0.8 per 100 user-days vs. 5.1 per 100 user-days). This difference reflects action taken to address the battery problem that has been described previously.
Most device deficiencies were related to hardware (46 in the AID group and 39 in the control group) followed by connectivity issues (20 in the AID group and 7 in the control group); one device deficiency was attributed to the application display. The insulin pump produced the most device deficiencies (47 events affecting 34 patients), followed by the pump Auto Setter device (16 events).

Section: Discussion

In the CREATE trial, we found that patients who were using the open-source AID system had 3 hours 21 minutes more time in the target glucose range per day than those who were using sensor-augmented insulin-pump therapy, a between-group difference of 14 percentage points. Patients in the AID group had improved glycemic control while maintaining a low percentage of time during which the glucose level was less than 70 mg per deciliter. The improved glycemic control during AID therapy is consistent with findings in observational studies, which are limited by a self-selected cohort of patients who have chosen to use an open-source AID system. The positive effect of AID therapy on glycemia in our trial was greatest overnight, a finding that was consistent with the results of evaluations of commercial AID systems. In the AID group, adults had a higher percentage of time in the target range than children, possibly because of differences in glycemic variability, likelihood of administration of an insulin bolus before a meal, activity level, and dietary factors. Even so, children still had the greatest improvement in the percentage of time in the target range between baseline and the end of the trial. Other studies have also shown that patients with the lowest baseline time in the target range gain the most from the use of AID.
The absolute differences in the percentage of time in range between the trial groups are similar to between-group differences for commercially available AID systems. Such between-group differences are partly attributable to the decrease in the percentage of time in range in the control group after the run-in period, which we hypothesize was due to a waning awareness of being observed (Hawthorne effect) over time.
Hardware malfunction rather than algorithm performance was the main burden on patients in the AID group. Occlusions in the insulin-infusion set were the main cause of hyperglycemia. The absence of diabetic ketoacidosis and severe hypoglycemia in the two groups was reassuring.
One strength of our trial is that the patients were more representative of those with type 1 diabetes than the patients in many real-world studies. In addition, in our trial, the patients did not have experience with open-source AID, which suggests that a range of patients with type 1 diabetes can benefit from this system. The majority of patients’ contacts with trial staff members were for troubleshooting hardware issues, and the deficiencies of the devices in the two groups were similar. We observed that with appropriate training, health care professionals can provide technical and clinical support for open-source AID users. The trial also had a high level of patient retention (98%), a lack of remote monitoring (which resembled real-world clinical practice), and broad inclusion criteria, which resulted in a population of diverse ages and ethnic backgrounds. Furthermore, the 6-month trial duration was suitably long to capture rare adverse events.
Our trial also has certain limitations. Real-world support may differ from that provided in a trial. The control group did not have an automated system for predicting low-glucose levels or suspending insulin administration, features that have been shown to reduce the incidence of hypoglycemia. The generalizability of our findings may be limited by the enrollment of patients with a relatively low glycated hemoglobin level at baseline, by the underrepresentation of patients with reduced economic resources, and by the increased familiarity with insulin-pump therapy and continuous glucose monitoring among the patients at baseline. However, the trial patients were more diverse than those enrolled in previous studies that had been biased by patients’ selection of open-source AID. The effect size is partially due to a small decline in the percentage of time in the target range in the control group, which has not been observed in other studies. Unscheduled contacts with trial staff members by telephone, email, or text message were not recorded. Measurement of glycated hemoglobin was not centralized and was performed on a point-of-care basis. Patients in the two groups used different insulin pumps, although other studies have compared AID with “usual care.” In addition, a variety of insulin pumps were used in the control group, although the stable time in the target range throughout the trial suggests that this factor had a minimal effect.
In children and adults with type 1 diabetes, the use of an open-source AID system resulted in a significantly higher percentage of time in the target glucose range than the use of a sensor-augmented insulin pump at 24 weeks.
