Title: The diagonal approach: A theoretic framework for the economic evaluation of vertical and horizontal interventions in healthcare


Abstract: Abstract

The diagonal approach is a health system funding concept wherein vertical approaches targeting specific diseases are combined with horizontal approaches intended to strengthen health systems broadly. This taxonomy can also be used to classify health system interventions as either vertical or horizontal. Previous studies have used mathematical programming to evaluate horizontal interventions, but these models have not allowed concurrent evaluation of different types of horizontal interventions or captured spillovers and intertemporal effects. This paper aims to develop a theoretic framework for the diagonal approach. The framework is articulated through integer programming , maximizing health benefits given constraints by identifying the optimal set of both vertical and horizontal interventions to fund.
The theoretic framework for the diagonal approach is developed by synthesizing and expanding three prior works. The decision problem is synthesised to allow concurrent evaluation of three different types of horizontal interventions, those: (i) improving health system efficiency, (ii) improving capacity, and (iii) investing in new platforms. Linear programs are converted to integer form, relaxing previous assumptions related to constant returns to scale and divisibility of interventions. The framework is expanded to evaluate multiple budget constraints and options for new platforms. A new form for the value function is used to estimate the benefits of intervention combinations, capturing spillovers between vertical and horizontal interventions and dynamic returns to scale. The decision problem is specified inferotemporally, explicitly capturing the impact of the time horizon on the optimal choice set. Dynamic examples are provided to demonstrate the advantages of the diagonal approach over prior frameworks.
This framework extends existing works, enabling simultaneous comparison of various combinations of both vertical and horizontal interventions, capturing spillovers and intertemporal effects. The diagonal approach framework defines decision problems flexibly and realistically, forming the basis for future applied work. Implementation would improve resource allocation and patient health outcomes.

Section: 1. Introduction

In all health systems, decision makers must determine how to allocate limited budgets to maximise outcomes for the populations they serve. Interdisciplinary research on global development and healthcare have historically considered two approaches to such allocation: the vertical approach, where funding targets specific interventions and outcomes, or the horizontal approach, which focuses on funding interventions to strengthen the health system more broadly ( Frenk, 2006 , 2010 ; Frenk et al., 2014 , Hafner and Shiffman, 2013 , Msuya, 2006 , Ooms et al., 2008 ; World Health Organization, 2007 ).
Economic evaluation provides a framework to inform resource allocation decisions, enabling the systematic comparison of alternative interventions in terms of their costs and benefits ( Drummond, 2013 ). Economic evaluation has become an important tool in the implementation of the vertical approach, where interventions impacting the same outcome are directly compared. The economic evaluation of horizontal, or health system strengthening approaches to funding is more challenging, as they act on common infrastructure or service delivery platforms and therefore have more complex and dynamic downstream impacts on the costs and benefits of other interventions.
Mathematical programming has been used to provide a framework within which to evaluate horizontal funding approaches. van Baal et al. (2018) developed an approach to evaluate how additional constraints (such as workforce or platform capacity) result in multiple shadow prices, which impact the optimal allocation of a given budget. Morton et al. (2016) developed an approach to determine the optimal level of investment to increase the efficiency of supporting platforms. Hauck et al. (2019) proposed an additional approach for decisions regarding the funding of new platforms and contextualise their approach with the work of van Baal et al. (2018) , and Morton et al. (2016) .
In this paper we extend these prior mathematical programming frameworks to the optimal allocation of budgets within health systems. Our framework addresses remaining limitations in the frameworks that have been proposed to date. Hauck et al. (2019) provide examples to demonstrate stepwise use of the three mathematical programming frameworks. We build upon these examples to relax assumptions such as identical fixed costs across disparate interventions, and to allow for the evaluation of interventions which impact more than one horizontal intervention type. We also expand the framework to allow for spillovers between interventions, and to explicitly consider the impact of time horizon on allocation decisions.
Our framework also addresses the false dichotomy between vertical and horizontal approaches to funding. Frenk proposes that rather than juxtaposing the approaches, we can ‘extend the geometry metaphor’ and adopt a diagonal approach ( Frenk, 2006 , 2010 ). Within the diagonal approach, resources are allocated between interventions supporting vertical and horizontal approaches at a whole system level. Although this concept is over a decade old, there is a lack of formal theoretic support to enable systematic implementation.
Our aim is to synthesise the theoretic developments that have been made to date, and to propose a new basis for future applied work implementing the diagonal approach. Section 2 draws from the diagonal approach to develop new reference terms for interventions in healthcare, these terms will be used to frame the new mathematical programming framework. In section 3 , we introduce each of the prior mathematical programming frameworks. Section 4 synthesizes the prior frameworks into a singular maximisation problem, which captures spillovers and accounts for intertemporal allocation decisions. In section 5 , we provide examples demonstrating the performance of our framework relative to prior work. We conclude with a discussion of the strengths and limitations of our framework, with implications for policy and future research.

Section: 2. Vertical and horizontal interventions in health

In the context of the diagonal approach, the terms ‘vertical’ and ‘horizontal’ are typically applied to health system funding approaches . We suggest a more specific application, where the vertical and horizontal terms are interpreted as an attribute pertaining to interventions from the perspective of a health system payer or decision maker .
Vertical interventions typically target well-defined patient groups and/or disease outcomes. Examples include a drug used to treat a specific patient group, or a surgical procedure. Positive or negative spillovers between vertical interventions are possible, where the provision of one intervention could impact the marginal costs and benefits of others. Guidelines and standards for the economic evaluation of vertical interventions have been developed in many countries, and methods have advanced such that many of the greatest challenges have been resolved ( CADTH, 2017 ; NICE, 2013 ).
Horizontal interventions are those that are aimed at improving the overall structure and function of the health system. Horizontal interventions act on platforms: facilities, workforces, policies, and other physical or abstract structures impacting the delivery of vertical interventions. As Hauck et al. (2019) describe, horizontal interventions affect the health system by: (i) impacting capacity though broadly-used resources such as the workforce or policies impacting the price of services, incentives, and overall budget, (ii) impacting the value of vertical interventions by improving the efficiency of existing platforms, or (iii) constructing new platforms such as new hospital infrastructure, or information systems . Several authors have noted that the evaluation of horizontal interventions is less common compared to vertical interventions ( Craig et al., 2008 ; Frenk, 2006 , 2010 ; Hauck et al., 2019 ; Kristensen et al., 2015 ; Meacock, 2019 ; Morton et al., 2016 ; Sutton et al., 2018 ; van Baal et al., 2018 ; World Health Organization, 2007 ). Many authors and organisations draw attention to the lack of theoretical, methodological, and guidance development for the evaluation of horizontal interventions, ( Hauck et al., 2016 , 2019 ; Morton et al., 2016 ; van Baal et al., 2018 ), and for the evaluation of interventions which have knock-on effects on others ( Meacock, 2019 ; Sutton et al., 2018 ).
Such distinctions are not unprecedented. In the context of health care quality evaluation, Donabedian (1966) proposed that health outcomes result from both structures and processes, which align to horizontal and vertical interventions, respectively. Donabedian's use of the term ‘structure’ includes physical elements such as facilities and equipment, and more abstract elements like financial systems , institutional organization, and qualification standards. The term ‘processes’ captures the delivery of diagnostic and therapeutic care, applied at the level of physician-patient interactions.
The diagonal approach, as defined earlier, can be interpreted as the identification of the optimal combination of horizontal and vertical interventions to implement. We provide a visual representation of the diagonal approach in Fig. 1 to illustrate this concept. The diagonal approach implies that implementation decisions for all interventions (both vertical and horizontal) must account for the complex relationships between the two. Download: Download high-res image (379KB) Download: Download full-size image Fig. 1 . A visual representation of the diagonal approach. Notes: Under the diagonal approach, the optimal set of horizontal and vertical interventions is identified to maximise outcomes. Vertical bars represent all possible vertical interventions in the top section of the diagram, supported by platforms (facilities, systems, etc.) and other horizontal interventions which are represented by of a series of horizontal bars in the bottom of the figure. The size of each bar does not represent the relative value of each intervention, but position and colour highlight complementarity between horizontal and vertical interventions. The layering of horizontal interventions at the base of the figure demonstrates that multiple horizontal interventions can impact each vertical intervention. The diagonal arrow indicates the integration of optimisation between horizontal and vertical interventions. A greyscale version is presented in the Online Appendix. (For interpretation of the references to colour in this figure legend, the reader is referred to the Web version of this article.)
Vertical and horizontal interventions can be distinguished by two conditions. First, because horizontal interventions act on horizontal platforms , they do not impact health directly. Horizontal interventions have an indirect impact on health through vertical interventions. For example, a horizontal intervention to increase the size of the nurse workforce (a horizontal platform) cannot increase patient health by virtue of existing, the nurse workforce must deliver vertical interventions to improve patient health. Second, interventions in the vertical choice set are independent from alternatives. Given a choice set of all possible vertical interventions (both those that currently are and are not implemented), the selection of one vertical option does not impact the remaining choice set. This condition does not hold for horizontal interventions, because the available options depend on other choices within the choice set. For example, it is not possible to increase the capacity or efficiency of a horizontal platform that does not exist.
The differences between horizontal and vertical interventions highlight interdependencies in outcomes between vertical interventions, arising from the shared nature of horizontal platforms. It is common practice to make ‘ceteris paribus’ assumptions such as that the implementation of (or changes to) a vertical intervention would not alter the impact, value, and cost-effectiveness of other vertical interventions targeting different outcomes. This assumption is unlikely to hold in practice ( Hauck et al., 2016 ; Morton et al., 2016 ; van Baal et al., 2018 ). For example, changes to one vertical intervention will impact the outcomes of others if preventative programs have downstream impacts on related screening programs, or redeployment of health workforce to a new intervention could impact outcomes in another. Horizontal interventions can also have knock-on effects on others, and by nature will impact outcomes related to relevant vertical interventions as well.
The diagonal approach is intended to serve as a framework within which to set funding allocation problems. In this framework, the appropriate resolution or granularity to which the diagonal approach framework is applied will depend upon the decision problem at hand. Because the resolution will impact on the relationships between interventions, whether specific interventions should be classified as vertical or horizontal will depend on the context.

Section: 3. Prior approaches

We identified three key prior frameworks related to the economic evaluation of horizontal interventions using mathematical programming through work by Hauck et al. (2019) , which draws together prior related work ( Morton et al., 2016 ; van Baal et al., 2018 ). We searched the reference lists from these three studies, using backward and forward citation, to locate further relevant work providing mathematical programming solutions for horizontal intervention decisions. No further records were identified.
In this section, we outline mathematical programming frameworks for the three types of horizontal interventions: capacity, efficiency, and new platforms, as proposed in the key references ( Hauck et al., 2019 ; Morton et al., 2016 ; van Baal et al., 2018 ). These studies are written to align to horizontal or ‘health system strengthening’ approaches, but as they each integrate allocation between vertical and horizontal interventions, they in fact represent applications of the diagonal approach, albeit limited to one ‘type’ of horizontal intervention. The notation used throughout this paper is presented in Table 1 . Some minor changes to the notation in prior papers have been made to reduce the number of terms included, which are described in the table. Table 1 . Notation reference. Symbol Meaning Summation Terms j = 1... J All existing horizontal platforms, such as health care facilities, information infrastructure, policies, or other shared resources. k = 1.. K All possible new platforms. i = 1... I All possible vertical interventions. h = 1... H All possible horizontal interventions on each platform (indexed by K or J ). n = 1... N All possible discrete budget elements, defined to introduce constraints on various resources. t = 1... T All time periods, such as one-year increments to allow for discounting and other adjustments. Choice Terms y j h , y k h y j h t , y k h t A choice variable for investments in all possible horizontal interventions on existing platforms J or new platforms K . Sub-indexed by one or more of: j , k , h , and t . x j i , x k i x j i t , x k i t A choice variable for investments in all possible vertical interventions I available to both existing platforms J and new platforms K . Sub indexed by one or more of: j , k , h , and t . Intervention Terms v i , v i j The value of an intervention sub indexed by one or more of: j and i . The value is presented in QALYs, to ease in aggregation across disparate conditions. V ( x ˜ , y ˜ , x j i t , y j h t ) , V ( x ˜ , y ˜ , x k i t , y k h t ) The value function , which estimates QALY (or other appropriate health-related quality of life, such as life years or disability adjusted life years) values as a function of the values of the choice variables x jit and y jht (or x kit and y kht ), and all other values chosen for all other interventions x ˜ , y ˜ . The functional form of the value function is not explicitly stated, but given the terms which are included, it should incorporate returns to scale (increasing, constant or decreasing), and spillovers between other interventions. The function must also be constrained such that outcomes are not double counted for individuals, and therefore the maximum QALY value each year of the decision horizon is not greater than one for any individual. w j A scaling term for the relative value of each j platform to decision makers. c i O c i L c i j t O , c i k t O c j i t n , c k i t n , c j h t n , c k h t n The cost of interventions, sub indexed by one or more of: j , k , i , h , and t . The value is given in present year dollar terms. Superscripts align the cost to which budget component (and constraint) the cost applies to, where O is initial fixed costs (capital and fixed costs), and L captures labour and other variable costs. In some formulations, the budget is divided into more discrete elements, so the n is a different cost element which may have a binding constraint. γ The net returns to scale on value outcomes for horizontal interventions broadly across vertical interventions. m K The fixed cost of a new platform. Other Terms r The rate of time preference, or discount rate. B , B O , B L , B n The total budget B can be broken down into smaller components, such as the total budget related to initial fixed costs (capital and fixed costs) B O , the total budget allocated to labour and variable costs, B L , or into more discrete cost elements, B n , where each n is a different cost element which may have a binding constraint. QALYs = quality adjusted life years.
van Baal et al. (2018) propose a framework for evaluating the impact of input constraints on elements of the total budget, such as labour. Their mathematical programming framework highlights that multiple shadow prices exist when there is more than one resource constraint:
[1. Capacity] m a x ∑ i = 1 I v i x i subject to ∑ i = 1 I c i O x i ≤ B O , ∑ i = 1 I c i L x i ≤ B L , ∑ i = 1 I c i O x i + ∑ i = 1 I c i L x i ≤ B 0 ≤ x i ≤ 1 , ∀ i ∈ I where i = 1 … I vertical interventions are delivered on a given platform, x i is the degree to which an intervention is implemented, v i represents the value of each vertical intervention, c i represents the costs related to each intervention, and B is the available budget with L and O superscripts denoting costs and the budget related to labour and all other inputs, respectively. Horizontal interventions which increase platform capacity either by relaxing budgetary constraints, or by increasing the technical efficiency of given inputs so that constraints are no longer binding, are included in this category.
van Baal et al. (2018) demonstrate that when resource constraints exist: (i) additional restrictions posed on the maximisation problem will result in sub-optimal outcomes as compared to a budget which could be allocated freely, and (ii) when there is more than one binding constraint, there will be multiple shadow prices with unequal values. We replicate this result in the Online Appendix.
Morton et al. (2016) develop a mathematical programming framework to determine the optimal level of investment in both vertical and horizontal health system interventions in a single period maximisation function:
[2. Efficiency] m a x ∑ j = 1 J w j y j γ ∑ i = 1 I v j i x j i subject to ∑ j = 1 J c j y j + ∑ j , 1 = 1 J , I c j i x j i ≤ B 0 ≤ x i j ≤ 1 , 0 ≤ y j ≤ 1 , ∀ i ∈ I , ∀ j ∈ J where j = 1 … J represent all existing platforms, y j is a decision variable for how much to invest in existing platforms, w j is a scaling factor, γ measures increasing or diminishing returns to scale, v i j represents the value of vertical interventions i = 1 … I , c i j represents the costs related to intervention i on platform j , x i j is the degree to which an intervention is implemented, and B is the available budget.
The original presentation in Morton et al. (2016) considered a single platform, and so J represented different groups of interventions, or programs, rather than platforms. The authors proposed that the scaling factor w j could be used to normalise w j y j γ to be less than 1 and interpreted as a dilution of health benefits, or that the w j could be interpreted as a weighting term representing decision maker prioritisation of the program. Through the application of one γ value to all platforms and interventions, Morton et al. (2016) assume that returns to scale are identical in all J and I dimensions.
For the purposes of our paper, the meaning of J is interpreted to represent all existing platforms. Hauck et al. (2019) presented a simplified version of the Efficiency equation in their paper, without the w j term or the summation across multiple programs/platforms.
Hauck et al. (2019) identify three types of health system strengthening interventions: (i) those improving platform efficiency, through a simplified version of the work set out in Morton et al. (2016) , (ii) those improving platform capacity as presented by van Baal et al. (2018) , and (iii) those investing in new platforms. The authors propose that together, these three equations can optimise resource allocation for horizontal and vertical interventions. In addition to presenting versions of the Capacity and Efficiency equations as above, Hauck et al. (2019) define a final equation for New Platforms , simplified below as:
[3. New Platforms] m a x ∑ i = 1 I v i x i J + ∑ i = 1 I v i x i K subject to m K + ∑ i = 1 I c i x i J + ∑ i = 1 I c i x i K ≤ B 0 ≤ x i ≤ 1 , ∀ i ∈ I where J refers to the existing platform and K refers to a new platform. A subset of all possible interventions i = 1 … I can be provided in each platform, and some interventions may be delivered by both. Fixed costs associated with the new platform are given by m K . Hauck et al. do not consider more than one existing platform in addition to a single new platform.
There are three elements missing from these previously proposed mathematical programming solutions: (i) the functional form for the consideration of interventions or groups of interventions which impact more than one of the three functions proposed (i.e. impacting two or more of capacity, efficiency, and new platforms), (ii) estimation of value spillovers between interventions, and (iii) intertemporal allocation , where decision makers may wish to consider future expenditures and outcomes when allocating resources. We address these issues through the equation proposed in the next section.

Section: 4. Synthesised equation

In this section, we combine the equations from the prior section into a single optimisation problem. This allows for interventions which impact more than one horizontal type (capacity, efficiency, new platforms) to be evaluated. For example, this may arise when investing in new diagnostic imaging equipment, which could require not only new platform investments as included in the New Platform equation, but also require new or redeployed health workforce to operate, as in the Capacity equation. The equations are also expanded to allow for optimisation across multiple new and existing platforms by discretizing the J and K terms from the New Platform equation and reformulating the value estimation to capture spillovers and returns to scale. The optimisation problem is extended beyond a single time period. Combining the prior equations allows interventions to impact more than one ‘type’ of horizontal intervention simultaneously. The Diagonal Health System ( DHS ) equation is presented below:
[4. DHS] m a x ∑ t = 1 T [ [ ∑ j , i , h = 1 J , I , H V ( x ˜ , y ˜ , x j i t , y j h t ) + ∑ k , i , h = 1 K , I , H V ( x ˜ , y ˜ , x k i t , y k h t ) ] ( 1 + r ) ( t − 1 ) ] subject to ∑ t = 1 T [ [ ∑ j , h = 1 J , H ( c j h t n y j h t ) + ∑ k , h = 1 K , H ( c k h t n y k h t ) + ∑ j , i = 1 J , I ( c j i t n x j i t ) + ∑ k , i = 1 K , I ( c k i t n x k i t ) ] ( 1 + r ) ( t − 1 ) ] ≤ B n , ∑ n , t = 1 N , T [ [ ∑ j , h = 1 J , H ( c j h t n y j h t ) + ∑ k , h = 1 K , H ( c k h t n y k h t ) + ∑ j , i = 1 J , I ( c j i t n x j i t ) + ∑ k , i = 1 K , I ( c k i t n x k i t ) ] ( 1 + r ) ( t − 1 ) ] ≤ B x j i t , x k i t , y j h t , y k h t ∈ { 0,1 } , ∀ i ∈ I , ∀ h ∈ H , ∀ j ∈ J , ∀ k ∈ K , ∀ n ∈ N , ∀ t ∈ T
Here, x is the choice variable for vertical interventions, and y is the choice variable for horizontal interventions. The value function for existing platforms is the first term in DHS : ∑ j , i , h = 1 J , I , H V ( x ˜ , y ˜ , x j i t , y j h t ) and captures efficiency, while the second value function ∑ k , i , h = 1 K , I , H V ( x ˜ , y ˜ , x k i t , y k h t ) captures investment and efficiency in new platforms. The K term represents one or more new platforms, extending the singular new platform proposed in the New Platform equation. These generalizations allow all possible alternatives to enter the choice set. The value function returns the population level value in quality-adjusted life years (QALYs) for an intervention, as a function of the choice variables ( x k i t , x j i t , y j h t and y k h t ), and the values of all other choice variables (i.e. x ˜ and y ˜ ), where the tilde (∼) represents an array containing all choice variables other than the current values of i , h , j and k . To relax the assumptions of constant returns to scale and perfect divisibility, the program is converted from a linear to an integer program. The value function not only captures platform efficiency (aligning to the earlier Efficiency equation), it also captures spillovers between horizontal and vertical interventions on all platforms, as well as returns to scale for different levels of investment in interventions. Note that the w j and γ terms are no longer needed given the flexibility in the value function. In line with the change to an integer program, the value function can capture dynamic returns to scale that are unique to any combination of interventions, whereas the γ term assumes constant returns to scale across platforms. The constraints on labour and other expenditures from Capacity are expanded to a generalised set of budget constraints, B n , where n = 1 … N , representing restrictions in one or more inputs (such as physical capital, different types of labour, or medical supplies). Costs for each horizontal and vertical intervention for each budget element are captured by the c n term. Horizontal interventions relaxing any budget constraint ( n ) are reflected for both the impacted budget element (with a negative cost as the constraint is relaxed), and the budget element(s) required to implement the intervention (with a positive cost that is not necessarily equal to the saving on the impacted budget).
Note that B n is the total value of any constrained budget element over all time periods. When borrowing between periods is not possible, the constrained budget element could be represented by the following equation for each time period using current year values: [ ∑ j , h = 1 J , H ( c j h t n y j h t ) + ∑ k , h = 1 K , H ( c k h t n y k h t ) + ∑ j , i = 1 J , I ( c j i t n x j i t ) + ∑ k , i = 1 K , I ( c k i t n x k i t ) ] ≤ B t n
The key changes from the three equations set out in the framework by Hauck et al. (2019) are described in Box 1 . Box 1 Adaptations required to develop the diagonal health system equation 1. The conversion from a linear to an integer program, as indicated by the restrictions on the choice variables 2. Inclusion of multiple existing platforms, adapting the interpretation of the J term which was introduced by Morton et al. (2016) . 3. Inclusion of multiple potential new platforms through introduction of the K term summation 4. Expansion of budgetary constraints beyond the two considered by van Baal et al. (2018) through the N term 5. The replacement of v with the value function V ( x , y ) , in which the value of each intervention is a function of the vectors of all choice variables x and y , to capture platform efficiency, spillovers between vertical interventions, and returns to scale 6. Weights and returns to scale ( w j and γ ) as implemented by Morton et al. (2016) are removed as they can be estimated by the value function 7. Expansion to include multiple time periods and discounting through the r term and T summation.
In all other aspects, DHS reflects a direct combination and generalization of the equations from Hauck et al. (2019) .
The synthesised DHS equation allows for dynamic changes to the system to be evaluated. While the three types of horizontal interventions proposed by Hauck et al. (2019) can still be evaluated independently as before (by dropping unnecessary terms from the synthesised equation, for example, assuming n = 1 will eliminate the Capacity element of DHS ), it is also possible to evaluate changes to vertical interventions only– for example for any i in V x ~ , y ~ , x k i t , y k h t or c i j t h x i j t − which may have dynamic impacts on the overall cost-effectiveness of other interventions, and alter optimal investments broadly.
The maximisation is summed across time periods t = 1.. T , and adjusted according to a time preference rate r . Other work has shown that when intertemporal budget constraints exist, differences in cost profiles can have impacts on optimisation ( Epstein et al., 2007 ).

Section: 5. Application of the synthesised equation

In this section, the examples provided in Hauck et al. (2019) are revisited by applying the DHS equation, to demonstrate the application and value of the synthesised equations, as opposed to independent applications of the equations from previous frameworks.
Hauck et al. (2019) demonstrate the evaluation of each type of horizontal intervention equation independently through examples in their paper. To demonstrate the use of the new platforms equation, they provide an example of a new platform that could be used to deliver two interventions: (1) viral load testing for patients with HIV, or (2) Oxytocin for the prevention of postpartum haemorrhage . Both interventions require investment in a new cold supply chain (the new platform) with a high fixed cost of $11 million. The cost-effectiveness threshold is assumed to be $200 per QALY and is used to convert QALYs gained, so that both costs and benefits can be presented in net monetary benefit (NMB) for ease of comparison. Table 2 presents the costs and benefits for each strategy as in Hauck et al. (2019 , Table 3 ). Table 2 . New platform example from Hauck et al. (2019) . A. Provision of Viral Load (VL) Testing Alone Fixed Costs per case ($) 1294 Fixed Costs (Total, $) 11,000,000 Variable costs per case ($) 200 Variable costs (Total, $) 1,700,000 Number of cases (N) 8500 Total Cost ($) 12,700,000 Incremental benefits per case (QALYs) 7 Total QALYs 59,500 Total Cost/QALY ($) 213 NMB ($) −799,000 B. Provision of Oxytocin Alone Fixed Costs per case ($) 880 Fixed Costs (Total, $) 11,000,000 Variable costs per case ($) 500 Variable costs (Total, $) 6,250,000 Number of cases (N) 12,500 Total Cost ($) 17,250,000 Incremental benefits per case (QALYs) 5 Total QALYs 62,500 Total Cost/QALY ($) 276 Net Monetary Benefit ($) −4,750,000 C. Platform shared between VL and Oxytocin VL Oxytocin Average Total Fixed Costs per case ($) 524 524 524 Fixed Costs (Total, $) 11,000,000 Variable costs per case ($) 200 500 379 Variable costs (total), $) 7,950,000 Number of cases (N) 8500 12,500 21,000 Total Cost ($) 18,950,000 Incremental benefits per case (QALYs) 7 5 Total QALYs 122,000 Total Cost/QALY ($) 103 205 155 NMB ($) 5,450,000 VL = HIV viral load testing, QALYs = quality adjusted life years, NMB = net monetary benefit. This table is adapted from Table 3 in Hauck et al. (2019) , where all figures are identical, but NMB is added. Table 3 . New platform example with capacity investment. D. Platform shared between Viral Load (VL) Testing and Oxytocin - with limited capacity VL Oxytocin Average Total Fixed Costs per case ($) 815 815 815 Fixed Costs ($) 11,000,000 Variable costs per case ($) 200 500 311 Variable costs ($) 4,200,000 Number of cases (N) 8500 5000 13,500 Total Cost ($) 15,200,000 Incremental benefits per case (QALYs) 7 3 Total QALYs 74,500 Total Cost ($)/QALY 145 438 204 NMB ($) −300,000 E. Platform shared between VL and Oxytocin - with increased capacity VL Oxytocin Average Total Fixed Costs per case ($) 619 619 619 Fixed Costs ($) 13,000,000 Variable costs per case ($) 200 500 379 Variable costs ($) 7,950,000 Number of cases (N) 8500 12,500 21,000 Total Cost ($) 20,950,000 Incremental benefits per case (QALYs) 7 5 Total QALYs 122,000 Total Cost ($)/QALY 117 223 172 NMB ($) 3,450,000 VL = HIV viral load testing, QALYs = quality adjusted life years, NMB = net monetary benefit.
The only option that falls below the cost-effectiveness threshold is Option C where the platform is shared by both vertical interventions, and therefore is the only strategy suitable for adoption. Hauck et al. (2019) highlight that this type of economy of scope may only be realized when there is slack in the capacity of system platforms. In this case, the capacity of the cold chain platform at a cost of $11 million can support both the viral load testing and Oxytocin interventions.
This paper develops the DHS equation which allows each type of horizontal intervention to be evaluated simultaneously. Consider a scenario where a capacity constraint means that fixed costs are not identical across strategies A-C, even when there is slack in the system. For example, the cost of salaried staff to manage and distribute different products, or different storage temperatures could lead to large differences in fixed costs. Beyond the purchase of critical common platform elements, the fixed costs for these strategies could vary enough to significantly impact on program cost-effectiveness. This implies that fixed costs for strategies A and B would be reduced relative to C, or that strategy C would not be able to implement both interventions with full efficiency and/or population coverage, as in the capacity equation. Therefore, the appropriate decision problem is not only the consideration of a new platform, but also platform constraints, for which the DHS is required.
To illustrate, consider the case (strategy D in Table 3 ) that the new platform could not support full implementation of the Oxytocin intervention, and only 5000 patients could be reached with an average incremental benefit of only 3 QALYs. In this case, strategy D is not cost-effective and should not be implemented.
Finally, consider strategy E where the capacity of the new platform is increased. For an additional cost of $2 million, both interventions may be implemented as before, and are cost-effective. Without jointly considering platform capacity and investing in new platforms in strategy E, the NMB gain of $3.45 million would not be realized. In this case, the DHS is required to analyse the problem.
In the prior example, the example given in Hauck et al. (2019) was extended to demonstrate the need for an integrated framework when considering horizontal interventions. While the directness of their table-based approach provides an accessible example, it does not allow for the dynamic comparison of investment and divestment decisions with a broad decision set, nor does it allow the consideration of optimisation within a constrained budget. In this section, a system-wide, multi-period example is developed.
To demonstrate the results of DHS framework, we input the intertemporal synthesised equation DHS as an integer programming optimisation within an interactive Shiny® App, using the lpSolve package in RStudio® ( Berkelaar and Csárdi, 2020 ; Chang et al., 2020 ). The three platform examples from Hauck et al. (2019) were adapted to reflect hypothetical scenarios where efficiency, capacity, and new platform investments were possible for various groups of interventions, across three platforms as summarised in Table 4 . Platform 1 is an existing rural health facility, providing trauma services, human papillomavirus vaccine, and voluntary male circumcision. Platform 2 is an existing workforce of nurses skilled at disease management, who offer second line tuberculosis treatment, and cardiovascular disease treatment. Platform 3 is the same platform that was used in Table 2 , offering viral load testing and oxytocin. More details on the app, including a weblink are provided in the Online Appendix. Table 4 . Dynamic example platform descriptions. Platform Possible Vertical Interventions Horizontal Intervention Types Efficiency Capacity New Platform 1 - Rural health facility providing primary health and acute emergency services Voluntary Medical Male Circumcision X X Trauma Human Papillomavirus Vaccine 2 - Nurses skilled at disease management, deployed across a set of facilities Second-line Tuberculosis treatment X X Cardiovascular Disease Management 3 - Development of new cold chain management infrastructure for primary health facilities HIV Viral Load Testing X X X Oxytocin during Childbirth
The choice set is given in the form of ‘intervention bundles’, defined as different combinations of vertical and horizontal interventions on various platforms. For each bundle, the vertical intervention costs, and costs related to each type of horizontal intervention (efficiency, capacity, new platforms) are aggregated separately for each year. QALYs are also aggregated for each option and converted to NMB. This hypothetical choice set of intervention bundles is loaded into the integer programming optimisation, with constraints on the total budget, labour budget, and additional constraints to ensure that only one option from each platform can be selected. The objective function maximises NMB across all interventions. The app allows users to adjust scenario characteristics such as total budget, labour budget, time preference rate, time horizon, and cost-effectiveness threshold values to evaluate impacts on the optimal decision set. The interactive interface allows users to compare scenarios where some or all types of horizontal interventions are evaluated, and/or some platforms are not considered.
In the dynamic analysis, a hypothetical baseline scenario is defined with a total of 22 bundle options across three platforms assessed, with a maximum budget of $110 million. Values for fixed and variable costs, number of cases, and QALYs are drawn from Table 1 , Table 2 , Table 3 in Hauck et al. (2019) . In the baseline scenario (A), labour spending is assumed to have a maximum of 85% of total budget (so that it is effectively unrestricted), the time rate preference is 0.05, outcomes are assessed over 3 years, and all types of horizontal interventions are available. The horizontal efficiency interventions vary in improvements of between 20% and 30%, demonstrating a relaxation of the constant γ term. NMB is used to compare the efficiency of the optimal strategy in each scenario.
The results from scenarios varying the total budget, and maximum labour spend are given in Table 5 . The highest NMB is achieved in Scenario A when there is a large budget, and labour expenditure as a proportion of the total budget is not constrained. In Scenario A, the optimum set of interventions to fund covers all three platforms, where horizontal efficiency interventions and the funding of a new platform increase NMB, while capacity interventions are not required since labour is not restricted. In Scenario B, there is a binding labour constraint, and therefore the optimal set of interventions covers only two platforms, using both efficiency and capacity horizontal interventions, resulting in a substantial decrease in NMB of 25.8% relative to Scenario A. Scenario C presents results where the total budget decreases to $75 million, with a non-binding labour constraint. Due to budgetary restrictions, interventions can only be adopted for two platforms, but horizontal efficiency interventions are funded for both, with a NMB loss relative to Scenario A of 34.5%. When the labour constraint is binding, as in Scenario D, interventions in two platforms are funded, but since capacity must be addressed, the NMB is reduced by 58.5% relative to Scenario A. Table 5 . Dynamic optimisation scenario results. Empty Cell Max Total Budget ($M) Max % Labour Platform, Funded Intervention Bundles (#, Vertical | Horizontal) Total Cost ($M) NMB ($M) A $110 85% 1 VMMC, Trauma, HPV | Efficiency $109.7 $105.6 2 TB2, CVD | Efficiency 3 VL, Oxy | Efficiency, New Platform B $110 50% 1 VMMC, Trauma, HPV | Efficiency, Capacity $86.7 $78.4 3 VL, Oxy | Efficiency, Capacity, New Platform C $75 85% 2 TB2, CVD | Efficiency $64.5 $69.2 3 VL, Oxy | Efficiency, New Platform D $75 50% 1 Trauma $67.0 $43.8 3 VL, Oxy | Efficiency, Capacity, New Platform VMMC = voluntary medical male circumcision, HPV = human papillomavirus vaccine, TB2 = second line tuberculosis treatment, CVD = cardiovascular disease, VL = HIV viral load testing, Oxy = Oxytocin in childbirth , NMB = net monetary benefit.
The results demonstrate that the constrained budget is optimised when resources are allocated in a way that considers each available horizontal and vertical intervention dynamically. For example, in scenario D, with reduced total budget and restrictions on labour spending (capacity), the only intervention bundle that can be implemented on Platform 1 is trauma services. The optimisation functions as expected, where capacity interventions are only implemented when the labour constraint is binding. While the options in this application consider only labour constraints, the results would apply to restrictions on spending for any element of the total budget.
Hauck et al. (2019) propose a series of decision steps in their paper to select which of the three equations is most appropriate for a given decision problem. We test the outcomes of such a stepwise scenario by allocating a total budget of $110 million to each of the three platforms, varying labour spending restrictions, and applying the approximation of the equation which maximises NMB at each instance. The final NMB and cost are tabulated in Table 6 . Table 6 . Dynamic optimisation , stepwise platform allocation, restricting horizontal interventions. Empty Cell Max Total Budget ($M), Max % Labour Horizontal Intervention Type Platform, Funded Intervention Bundles (#, Vertical) Total Cost ($M) NMB ($M) E $110, 85% Efficiency 1 VMMC, Trauma, HPV $45.2 $36.3 $64.8, 85% Efficiency 2 TB2, CVD $27.0 $23.1 $37.8, 85% New Platform 3 VL, Oxy $36.5 $33.1 Total $108.7 $92.5 F $110, 50% Efficiency 1 VMMC, Trauma, HPV $45.2 $36.3 $64.8, 50% Efficiency 2 TB2, CVD $27.0 $23.1 $37.8, 50% New Platform 3 Oxy $27.7 $8.0 Total $99.9 $67.4 VMMC = voluntary medical male circumcision, HPV = human papillomavirus vaccine, TB2 = second line tuberculosis treatment, CVD = cardiovascular disease, VL = HIV viral load testing, Oxy = Oxytocin in childbirth, NMB = net monetary benefit.
In Scenario E, because only one type of horizontal intervention is applied to each platform, the NMB of $92.5 million is a reduction of 12.4% compared to Scenario A. In Scenario F a binding constraint to labour spending results in a NMB of $67.4 million, a 14.0% reduction compared to Scenario B.
The choice set in Table 6 is restricted to only the options with single horizontal interventions, identified in the ‘horizontal intervention’ column. While this is an unrealistic situation, it is representative of the outcomes of analyses where the evaluation of different types of horizontal interventions are not synthesised. Attempts to adjust the choice set, such that one type of horizontal intervention would capture the costs and benefits of another, is a direct indication that separate application of the Capacity, Efficiency, and New Platform equations is inappropriate.
A final set of scenarios is designed to demonstrate the importance of considering each type of horizontal intervention simultaneously through the synthesised equation, rather than applying the most applicable equations of Capacity , Efficiency , and New Platform . In the scenarios presented in Table 7 , the total budget, maximum proportion of the total budget that can be spent on labour, and the types of horizontal interventions which can be considered are varied and outcomes are assessed. Table 7 . Dynamic optimisation, restricting horizontal interventions. Empty Cell Max Total Budget ($M), Max %Labour Possible Horizontal Intervention Types Platform, Funded Intervention Bundles (#, Vertical | Horizontal) Total Cost ($M) NMB ($M) G&H $110, 85% All 1 VMMC, Trauma, HPV | Efficiency $109.7 $105.6 & 2 TB2, CVD | Efficiency Efficiency, New Platform 3 VL, Oxy | Efficiency, New Platform I $110, 85% Efficiency, Capacity 1 VMMC, Trauma, HPV | Efficiency $72.2 $55.5 2 TB2, CVD | Efficiency J $110, 85% Capacity, New Platform 1 VMMC, Trauma, HPV $106.7 $64.2 2 TB2, CVD 3 VL, Oxy | New Platform K $110, 50% All 1 VMMC, Trauma, HPV | Efficiency, Capacity $86.7 $78.4 3 VL, Oxy | Efficiency, Capacity, New Platform L $110, 50% Efficiency, Capacity 1 VMMC, Trauma, HPV | Eff, Cap $70.5 $46.7 2 TB2, CVD | Efficiency, Cap M $110, 50% Capacity, New Platform 1 VMMC, Trauma, HPV | Capacity $84.7 $47.6 2 TB2, CVD | Capacity N $110, 50% Efficiency, New Platform 2 TB2, CVD | Efficiency $64.5 $69.2 3 VL, Oxy | Efficiency, New Platform VMMC = voluntary medical male circumcision, HPV = human papillomavirus vaccine, TB2 = second line tuberculosis treatment, CVD = cardiovascular disease, VL = HIV viral load testing, Oxy = Oxytocin in childbirth, NMB = net monetary benefit.
The results in Table 7 indicate that when the optimisation problem does not consider the full set of horizontal interventions simultaneously, suboptimal decisions are made. Scenarios G, H, I, and J each have the same budgetary restrictions, but when efficiency (Scenario I) and new platform interventions (Scenario J) are not considered, the NMB falls substantially: by 47.4% in Scenario I, and 39.2% in Scenario J. Similarly, a binding labour constraint in Scenarios L, M, and N results in NMB reductions of 40.4%, 39.3%, and 11.7% respectively, relative to Scenario K. The relative losses in Table 7 can be attributed to a failure to include each of the three ‘types’ of horizontal interventions in the decision problem.

Section: 6. Discussion

Health system decision makers must determine how to allocate limited budgets, funding a mix of vertical interventions targeting specific populations and outcomes, and horizontal interventions to strengthen the health system more generally. Economic evaluation can be used to optimise the bundle of vertical and horizontal interventions to maximise outcomes under a constrained budget. The diagonal approach framework synthesizes three prior works to allow the comparison of various combinations of both vertical and horizontal interventions across multiple platforms. The framework includes intertemporal dynamics, dynamic returns to scale, and spillovers to ensure the optimal allocation of limited health system resources, bridging mathematical programming as used in health economics with the conceptual work of Frenk and colleagues ( Frenk, 2006 , Frenk, 2010 , Frenk et al., 2014 ).
The tabular and dynamic examples provided in this paper demonstrate the advantages of the DHS approach relative to the equations proposed by Hauck et al. (2019) . Our tabular example builds from Hauck et al. applying their method under more realistic circumstances, relaxing the assumption of identical fixed costs for different combinations of vertical intervention bundles and allowing the consideration of more than one type of horizontal intervention within an allocation problem. We demonstrate that Hauck et al.‘s proposed algorithmic application of the Capacity , Efficiency , and New Platform equations will not maximise NMB for the general population.
Three critical results are given in the dynamic example. First, it is demonstrated that DHS allocates resources under a constrained budget in such a way that each available horizontal and vertical intervention is evaluated dynamically over time. We then demonstrate that if the most appropriate equation is applied to each platform in a stepwise procedure until the budget is exhausted as proposed by Hauck et al.‘s algorithm, suboptimal decision will be made. Finally, when the optimisation problem does not consider all horizontal types simultaneously for each platform, suboptimal decisions are made. Together, these results demonstrate that the use of DHS can facilitate the optimal allocation of limited health system resources.
Our study has several strengths relative to prior work. The diagonal approach is specified through DHS to offer flexibility in responding to diverse decision problems. We allow for allocation to a broad range of existing platforms. This consideration is mirrored for new platforms, and the problem is expanded to multiple time periods. While each of these innovations are strengths in that they improve the consistency and flexibility of the prior equations, three elements merit further discussion: integer programming , the form of the value function, and the resolution at which DHS is applied.
The DHS equation is formulated as an integer programming solution. This is a strength as it relaxes assumptions around constant returns to scale and perfect divisibility, which are implicit in linear optimisation formulations of health system allocation decisions ( Birch and Donaldson, 1987 ; Birch and Gafni, 1992 , 1993 ; Johannesson and Weinstein, 1993 ; Laska et al., 1999 ), but have been demonstrated not to apply empirically ( Elbasha and Messonnier, 2004 ). A general limitation of integer programming is that not all program implementation decisions are strictly binary; there are many cases in which decision makers could partially implement a program. The formulation of the DHS allows two options to overcome this limitation. The first is to include varying degrees of program implementation as unique interventions within the choice set, and to impose constraints such that only one ‘implementation version’ of each intervention can be selected. The second option is to reformulate the equation as a mixed integer problem ( Stinnett and Paltiel, 1996 ), such that varying degrees of implementation could be allowed for some interventions.
The form of the value function is both a strength and a limitation. The value of the immediate vertical and horizontal program choice variables is defined as a function of all choice variables. This allows the value function to capture spillovers and returns to scale related to different combinations of vertical and horizontal interventions. This definition ensures flexibility to multiple decision problems and contexts, but it is also necessary as both the methods and data required for empirical estimation of the value function are lacking. We propose two approaches to the estimation of the value function. A value table approach provides the expected value for every possible combination of horizontal and vertical interventions in each time-period. The table could be populated with adjusted values from the literature, but would be prone to estimation and extrapolation errors, and could become unwieldily with larger decision problems. Our dynamic example uses this approach, and further details are provided in the Online Appendix.
Alternatively, the value function could be directly estimated, but this would require a large and highly detailed dataset, containing at a minimum for the patient level: all relevant/provided vertical and horizontal interventions and health related quality of life outcomes. Ideally, the dataset would include costs, but these are not required to estimate the value function directly. With sufficient size and variation this data could be used to estimate the marginal impact of unique intervention combinations. However, this would likely require strong assumptions in addition to complex data classification challenges, and the functional form will require significant methodologic development.
The specification of the value function is such that the value of a given set of interventions is provided for each time period. Because the value of interventions can vary with time since implementation, the same intervention implemented at different points in time should be differentiated in the choice set. The selection of an appropriate time horizon for analysis is critical, in particular for horizontal interventions with high initial fixed costs, or for interventions with delayed benefits.
A final concern for application of the DHS will be the granularity , or resolution, of the platforms considered in the equation. These are intentionally unspecified; the most appropriate level of analysis will depend on the decision and optimisation context. For example, for optimisation within a hospital, the appropriate platform level could be unique wards which provide a package of services, in addition to the unique groups of specialised equipment within the facility: diagnostic imaging equipment, laboratory capacity, and facility management. Alternatively, if the level of analysis is the complete bundle of services covered by a national public health system, platforms could be evaluated at a higher aggregation, perhaps grouping at the facility level. Of course, the optimal solution could be responsive to the level of granularity applied, and locally optimal allocations (e.g. at the hospital level) are unlikely to be optimal globally (e.g. at the health system level).
Possible extensions to the DHS could include explicit consideration of equity and relative need for health services. With supporting data, distributional cost-effectiveness analysis could be implemented to incorporate equity in the DHS ( Asaria et al., 2016 ). The estimation of need for services requires analysis by disaggregated patient groups, to capture differences in value for subsets of the population with different needs (i.e. diagnoses and comorbidities). The risk behaviour of decision makers could be taken into account, by imposing additional constraints within the mathematical program, as suggested by others ( Al et al., 2005 ; Sendi et al., 2003 ).
Another enhancement could be made by including health insurance coverage considerations, as in ( Ochalek et al., 2020 ), who offer an optimisation framework to select which services should be covered, who they should be covered for, and how much of each service should be covered. While these elements must enter the choice set implicitly, their explicit selection is beyond the scope of this paper. Future work could include simulation methods to examine evolution of the optimal choice set over time and under different conditions.
This work has two significant policy implications. First, if DHS is shown to work in practice, health economists and other health service researchers should adopt and apply DHS when evaluating the cost-effectiveness of horizontal interventions. This means that evaluations should not only consider all available horizontal interventions, in terms of their efficiency, capacity, and new platform characteristics, but that they should also evaluate the bundle of vertical interventions which are offered by each platform.
Second, decision makers should take a broad and long-term view when allocating health system funding, and they must consider dynamics between vertical and horizontal interventions if optimal decisions are to be made. This point has been made by many others ( Finkelstein and Taubman, 2015 ; Hauck et al., 2016 , 2019 ; Meacock, 2019 ; Medical Research Council, 2019 ; Morton et al., 2016 ; Sutton et al., 2018 ; van Baal et al., 2018 ), and the results of this analysis support their arguments. This means that decision makers should adopt the diagonal approach to improve decision making .

Section: 7. Conclusions

We develop a theoretic basis for the diagonal approach by extending prior approaches to the economic evaluation of horizontal interventions. The new framework, articulated through an integer optimisation program, allows for the identification of the optimal intertemporal bundle of both vertical and horizontal interventions to maximise health benefits given budget constraints.
Empirical application of the diagonal approach will require substantial improvements in data availability and quality, as well as methodological development. Given our aim, we do not to address these challenges, but rather to provide a comprehensive framework to consider the decision problem facing health systems clearly. Realistically defining the decision problem will increase the quality of future analyses, improving health system sustainability and patient health outcomes.

Section: Credit

Conceptualization: EK; Formal analysis: EK; Supervision: RM JR MS; Writing - original draft: EK; Writing - review & editing: all authors.
